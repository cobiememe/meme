<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Cobie's MemeMarket ‚Äî Token Boost</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root{
    --neon:#00eaff; --neon2:#00bfff; --panel:#0a0f16cc;
    --ink:#d7faff; --accent:#7bffb9;
    --solana1:#9945FF; --solana2:#14F195; --solana3:#00FFA3;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:#000;color:var(--ink);
    font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,"Helvetica Neue",Arial;overflow:hidden;}
  #bg{position:fixed;inset:0;z-index:0;pointer-events:none;}
  .header{position:fixed;top:24px;left:32px;z-index:2;}
  .brand{font-family:'Orbitron',ui-monospace,monospace;font-size:28px;letter-spacing:2px;color:var(--neon);
    text-shadow:0 0 6px var(--neon),0 0 16px var(--neon2),0 0 28px var(--neon2);
    animation:breathe 3.2s ease-in-out infinite,flicker 4s infinite;user-select:none;}
  @keyframes breathe{0%{transform:scale(1)}50%{transform:scale(1.06)}100%{transform:scale(1)}}
  @keyframes flicker{0%,18%,22%,25%,53%,57%,100%{opacity:1}20%,24%,55%{opacity:.7}}
  .laser{position:relative;height:3px;margin-top:6px;width:280px;
    background:linear-gradient(90deg,rgba(0,234,255,.2),rgba(0,234,255,.05));
    overflow:hidden;border-radius:2px;box-shadow:0 0 10px rgba(0,234,255,.3);}
  .laser::before{content:"";position:absolute;top:0;left:-110%;height:100%;width:110%;
    background:linear-gradient(90deg,transparent,var(--neon),transparent);
    animation:laser 3.2s linear infinite;}
  @keyframes laser{0%{left:-110%}50%{left:0}100%{left:110%}}
  .wallet-btn{position:fixed;top:24px;right:32px;z-index:3;padding:10px 18px;border-radius:10px;
    cursor:pointer;font-weight:700;letter-spacing:.4px;color:var(--neon);border:2px solid var(--neon);
    background:transparent;text-shadow:0 0 6px var(--neon);transition:all .25s;}
  .wallet-btn:hover{background:var(--neon);color:#000;box-shadow:0 0 16px var(--neon);}
  .wrap{position:relative;z-index:1;height:100%;width:100%;display:flex;align-items:center;justify-content:center;
    padding:96px 24px 24px;}
  .panel{width:min(1200px,95vw);background:linear-gradient(180deg,rgba(17,24,39,.65),rgba(7,10,16,.75));
    border:1px solid rgba(255,255,255,.08);border-radius:16px;
    box-shadow:0 0 0 1px rgba(0,0,0,.3) inset,0 0 32px rgba(153,69,255,.25),0 0 64px rgba(0,255,163,.12);
    backdrop-filter:blur(6px);padding:18px;}
  .panel-head{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:6px 6px 12px 6px;}
  .badge{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;
    background:linear-gradient(90deg,rgba(153,69,255,.25),rgba(0,255,163,.12));
    border:1px solid rgba(255,255,255,.08);font-weight:600;font-size:13px;letter-spacing:.5px;color:#e6fffb;
    text-shadow:0 0 6px rgba(0,255,163,.4);}
  .actions{display:flex;gap:10px}
  .btn{appearance:none;border:none;cursor:pointer;padding:10px 14px;border-radius:10px;
    background:linear-gradient(135deg,rgba(0,255,163,.15),rgba(153,69,255,.15));color:#dff;font-weight:700;
    letter-spacing:.3px;box-shadow:0 0 0 1px rgba(255,255,255,.08) inset,0 6px 20px rgba(0,255,163,.15);
    transition:transform .15s ease,filter .2s ease;}
  .btn:hover{transform:translateY(-1px);filter:brightness(1.1)}
  .btn:disabled{opacity:0.5;cursor:not-allowed;transform:none;}
  .head,.row{display:grid;grid-template-columns:50px 200px 1fr 120px 100px;align-items:center;gap:12px;}
  .head{font-size:12px;text-transform:uppercase;letter-spacing:.8px;color:#9fe;opacity:.8;padding:6px 10px;
    border-bottom:1px solid rgba(255,255,255,.08);font-weight:600;}
  .list{display:flex;flex-direction:column;gap:8px;padding:8px}
  .row{padding:10px 12px;border-radius:12px;
    background:linear-gradient(90deg,rgba(255,255,255,.02),rgba(255,255,255,.03));
    border:1px solid rgba(255,255,255,.06);transition:transform .25s,box-shadow .25s,background .25s;cursor:pointer;}
  .row:hover{transform:translateY(-2px);
    box-shadow:0 10px 30px rgba(0,255,163,.12),0 0 30px rgba(153,69,255,.15);
    background:linear-gradient(90deg,rgba(20,255,195,.06),rgba(153,69,255,.05));}
  .rank{font-weight:800;font-size:18px;color:#bff;text-shadow:0 0 8px rgba(0,255,163,.4)}
  .coin{display:flex;align-items:center;gap:12px;font-weight:700;color:#eaffff}
  .icon{width:34px;height:34px;border-radius:50%;background:conic-gradient(from 120deg,var(--solana1),var(--solana2),var(--solana3),var(--solana1));
    box-shadow:0 0 16px rgba(0,255,163,.35);display:grid;place-items:center;color:#001510;font-weight:900;font-size:13px;}
  .name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .info{font-size:13px;color:#9fe;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
  .score{font-variant-numeric:tabular-nums;color:#cffff8;font-weight:800;text-align:center;}
  .boost{justify-self:end}.boost .btn{padding:9px 12px}
  .gold{color:gold}.silver{color:silver}.bronze{color:#cd7f32}
  .modal{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;align-items:center;justify-content:center;z-index:100;backdrop-filter:blur(4px);}
  .modal.active{display:flex;}
  .modal-content{background:linear-gradient(180deg,rgba(17,24,39,.95),rgba(7,10,16,.95));padding:32px;border-radius:16px;
    width:min(520px,90vw);max-height:90vh;overflow-y:auto;
    box-shadow:0 0 40px rgba(0,234,255,.3),0 0 80px rgba(153,69,255,.2);border:1px solid rgba(0,234,255,.3);animation:modalIn .3s ease;}
  @keyframes modalIn{from{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}
  .modal-content h2{margin:0 0 24px 0;color:var(--neon);font-size:24px;text-shadow:0 0 10px var(--neon);text-align:center;}
  .modal-content label{display:block;font-size:13px;color:#9fe;margin-bottom:6px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;}
  .modal-content input,.modal-content textarea{width:100%;margin-bottom:16px;padding:12px 14px;border-radius:10px;
    border:1px solid rgba(0,234,255,.3);background:rgba(0,0,0,.5);color:#fff;font-size:15px;transition:.2s;font-family:inherit;}
  .modal-content textarea{min-height:100px;resize:vertical;}
  .modal-content input:focus,.modal-content textarea:focus{outline:none;border-color:var(--neon);box-shadow:0 0 12px rgba(0,234,255,.3);}
  .modal-actions{display:flex;gap:10px;margin-top:24px;}
  .modal-actions .btn{flex:1;padding:12px;}
  .btn-primary{background:linear-gradient(135deg,var(--neon),var(--neon2));color:#000;font-weight:800;}
  .cost-info{text-align:center;padding:12px;background:rgba(153,69,255,.1);border-radius:8px;margin-bottom:16px;font-size:13px;color:#9fe;}
  .token-info{padding:12px;background:rgba(0,234,255,.05);border-radius:8px;margin-bottom:16px;font-size:12px;color:#9fe;border:1px solid rgba(0,234,255,.2);}
  .token-info strong{color:var(--neon);}
  .char-count{font-size:11px;color:#888;text-align:right;margin-top:-12px;margin-bottom:16px;}
  .detail-modal .modal-content{max-width:600px;}
  .detail-header{display:flex;align-items:center;gap:16px;margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid rgba(0,234,255,.2);}
  .detail-icon{width:60px;height:60px;border-radius:50%;display:grid;place-items:center;font-size:20px;font-weight:900;}
  .detail-title h3{margin:0;font-size:24px;color:var(--neon);}
  .detail-title p{margin:4px 0 0 0;font-size:14px;color:#9fe;}
  .detail-section{margin-bottom:20px;}
  .detail-section h4{font-size:14px;color:#9fe;text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px;}
  .detail-section p{color:#dff;line-height:1.6;margin:0;white-space:pre-wrap;}
  .detail-stats{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:20px;}
  .stat-box{padding:12px;background:rgba(0,234,255,.05);border-radius:8px;border:1px solid rgba(0,234,255,.2);}
  .stat-label{font-size:11px;color:#9fe;text-transform:uppercase;}
  .stat-value{font-size:18px;color:var(--neon);font-weight:800;margin-top:4px;}
</style>
</head>
<body>
  <canvas id="bg"></canvas>
  <div class="header"><div class="brand">Cobie's MemeWorld</div><div class="laser"></div></div>
  <button class="wallet-btn" id="connectBtn">Connect Wallet</button>
  <div class="wrap">
    <div class="panel">
      <div class="panel-head">
        <div class="badge" id="wallet-status">Not connected</div>
        <div class="actions"><button class="btn" id="addCoinBtn">‚ûï Add Token</button></div>
      </div>
      <div class="head"><div>#</div><div>Token</div><div>Info</div><div>Score (COT)</div><div></div></div>
      <div class="list" id="list"></div>
    </div>
  </div>
  <div class="modal" id="addModal">
    <div class="modal-content">
      <h2>üöÄ Add Solana Token</h2>
      <div class="cost-info">üí∞ Cost: 0.001 SOL to list a token</div>
      <label>Token Mint Address (44 characters)</label>
      <input type="text" id="tokenMint" placeholder="e.g. 8ZEfp4PkEMoGFgphvxKJrDySfS3T73DBfxKCdAsPpump" maxlength="44" />
      <button class="btn" id="fetchTokenInfo" style="margin-bottom:16px;width:100%;">üîç Fetch Token Info</button>
      <div id="tokenInfoDisplay" class="token-info" style="display:none;">
        <strong>Token found!</strong><br>Symbol: <span id="displaySymbol">-</span><br>
        Name: <span id="displayName">-</span><br>Decimals: <span id="displayDecimals">-</span>
      </div>
      <label>Description (max 200 chars)</label>
      <textarea id="tokenDesc" placeholder="Tell us about your token..." maxlength="200" rows="3"></textarea>
      <div class="char-count"><span id="charCount">0</span>/200 characters</div>
      <label>Initial Score (COT)</label>
      <input type="number" id="coinScore" value="10" min="0" />
      <div class="modal-actions">
        <button class="btn" id="modalClose">Cancel</button>
        <button class="btn btn-primary" id="modalConfirm" disabled>Add Token (Pay 0.001 SOL)</button>
      </div>
    </div>
  </div>
  <div class="modal" id="boostModal">
    <div class="modal-content">
      <h2>‚ö° Boost Token</h2>
      <div class="cost-info">üí∞ Cost: 0.001 SOL for +10 boost</div>
      <label>Token</label>
      <input type="text" id="boostCoinName" readonly style="background:rgba(0,0,0,.3);" />
      <label>Boost Amount (COT)</label>
      <input type="number" id="boostAmount" value="10" min="1" />
      <div class="modal-actions">
        <button class="btn" id="boostModalClose">Cancel</button>
        <button class="btn btn-primary" id="boostModalConfirm">Boost (Pay 0.001 SOL)</button>
      </div>
    </div>
  </div>
  <div class="modal detail-modal" id="detailModal">
    <div class="modal-content">
      <div class="detail-header">
        <div class="detail-icon" id="detailIcon">?</div>
        <div class="detail-title"><h3 id="detailName">Token</h3><p id="detailSymbol">SYM</p></div>
      </div>
      <div class="detail-stats">
        <div class="stat-box"><div class="stat-label">Rank</div><div class="stat-value" id="detailRank">#1</div></div>
        <div class="stat-box"><div class="stat-label">Score</div><div class="stat-value" id="detailScore">0 COT</div></div>
      </div>
      <div class="detail-section"><h4>üìù Description</h4><p id="detailDesc">No description.</p></div>
      <div class="detail-section"><h4>üîó Mint Address</h4><p id="detailMint" style="word-break:break-all;font-size:12px;font-family:monospace;">-</p></div>
      <div class="modal-actions">
        <button class="btn" id="detailClose">Close</button>
        <button class="btn btn-primary" id="detailBoost">‚ö° Boost This Token</button>
      </div>
    </div>
  </div>
<script type="importmap">
{"imports":{"@solana/web3.js":"https://esm.sh/@solana/web3.js@1.87.6","@solana/spl-token":"https://esm.sh/@solana/spl-token@0.3.11"}}
</script>
<script type="module">
// Background Animation
const bg=document.getElementById('bg'),bctx=bg.getContext('2d');let P=[];
function resizeBG(){bg.width=innerWidth;bg.height=innerHeight}
addEventListener('resize',resizeBG);resizeBG();
for(let i=0;i<120;i++)P.push({x:Math.random()*bg.width,y:Math.random()*bg.height,r:Math.random()*2+.5,vx:(Math.random()-.5)*.35,vy:(Math.random()-.5)*.35,a:Math.random()*.9+.1});
(function tick(){bctx.clearRect(0,0,bg.width,bg.height);P.forEach(p=>{p.x+=p.vx;p.y+=p.vy;if(p.x<0)p.x=bg.width;if(p.x>bg.width)p.x=0;if(p.y<0)p.y=bg.height;if(p.y>bg.height)p.y=0;bctx.fillStyle=`rgba(0,234,255,${p.a})`;bctx.beginPath();bctx.arc(p.x,p.y,p.r,0,Math.PI*2);bctx.fill()});requestAnimationFrame(tick)})();

// Solana Imports
import{Connection,PublicKey,Transaction,SystemProgram,LAMPORTS_PER_SOL}from'@solana/web3.js';
import{getMint}from'@solana/spl-token';

// Configuration
const USE_MAINNET=true;
const HELIUS_API_KEY='b5dce25c-09db-45bd-ba9b-d2e2f16fc841'; // üëà HIER DEIN API KEY √ÑNDERN!
const RPC_URL=USE_MAINNET?`https://mainnet.helius-rpc.com/?api-key=${HELIUS_API_KEY}`:'https://api.devnet.solana.com';
const RECEIVER_STR='Eamw917X8VNmH6xuD6mnR9Z5uyganASWRr4aNUU4tomt';

// UI Elements
const list=document.getElementById('list'),addCoinBtn=document.getElementById('addCoinBtn'),connectBtn=document.getElementById('connectBtn'),statusBadge=document.getElementById('wallet-status');
const addModal=document.getElementById('addModal'),boostModal=document.getElementById('boostModal'),detailModal=document.getElementById('detailModal');

// State
let coins=[],currentBoostIndex=null,currentDetailIndex=null,fetchedTokenInfo=null;

console.log('üåê RPC:',RPC_URL);
console.log('üí∞ Receiver:',RECEIVER_STR);

// Helper Functions
function randomGradient(){const c=['#9945FF','#14F195','#00FFA3','#FF7F50','#1E90FF','#FF1493'];const c1=c[Math.floor(Math.random()*c.length)],c2=c[Math.floor(Math.random()*c.length)];return`conic-gradient(from ${Math.random()*360}deg,${c1},${c2},${c1})`}

function rowTemplate(c,i){
  let r=i===0?'gold':i===1?'silver':i===2?'bronze':'';
  return`<div class="row" data-detail="${i}">
    <div class="rank ${r}">${i+1}</div>
    <div class="coin">
      <div class="icon" style="background:${c.icon}">${c.sym.slice(0,3)}</div>
      <div class="name">${c.name}</div>
    </div>
    <div class="info" title="${c.desc}">${c.desc}</div>
    <div class="score">${c.score} COT</div>
    <div class="boost">
      <button class="btn" data-boost="${i}" onclick="event.stopPropagation()">Boost</button>
    </div>
  </div>`
}

function render(){coins.sort((a,b)=>b.score-a.score);list.innerHTML=coins.map(rowTemplate).join('')}

// Wallet Functions
function getProvider(){return window.phantom?.solana||window.solana||null}
function setUIConnected(k){statusBadge.textContent="‚úÖ "+k.slice(0,6)+"..."+k.slice(-4);connectBtn.textContent="Disconnect"}
function setUIDisconnected(m="Not connected"){statusBadge.textContent=m;connectBtn.textContent="Connect Wallet"}

async function connectWallet(){
  const p=getProvider();
  if(!p){alert("‚ö†Ô∏è Phantom not found");return}
  try{
    const{publicKey}=await p.connect({onlyIfTrusted:false});
    setUIConnected(publicKey.toString());
    if(!p.__bound){
      p.on("disconnect",()=>setUIDisconnected("üîå Disconnected"));
      p.__bound=true
    }
  }catch(e){
    console.error(e);
    setUIDisconnected("‚ùå Failed")
  }
}

async function disconnectWallet(){
  const p=getProvider();
  if(!p)return;
  try{await p.disconnect();setUIDisconnected()}catch(e){console.error(e)}
}

connectBtn.addEventListener("click",async()=>{
  const p=getProvider();
  p?.isConnected?await disconnectWallet():await connectWallet()
});

window.addEventListener("load",()=>{
  const p=getProvider();
  p?.isConnected?setUIConnected(p.publicKey.toString()):setUIDisconnected()
});

// Fetch Token Info
async function fetchTokenInfo(m){
  try{
    statusBadge.textContent='üîç Fetching...';
    const c=new Connection(RPC_URL,'confirmed'),mint=new PublicKey(m),info=await getMint(c,mint);
    const s=m.slice(0,4).toUpperCase(),n=`Token ${s}`;
    statusBadge.textContent='‚úÖ Token found';
    return{mint:m,symbol:s,name:n,decimals:info.decimals}
  }catch(e){
    console.error(e);
    statusBadge.textContent='‚ùå Invalid mint';
    throw e
  }
}

// Send SOL (IMPROVED: No waiting for confirmation!)
async function sendSOL(a){
  const p=getProvider();
  if(!p?.isConnected){alert("Connect wallet first");return false}
  statusBadge.textContent='‚è≥ Sending '+a+' SOL...';
  
  try{
    console.log('üöÄ Starting SOL transfer...');
    const c=new Connection(RPC_URL,'confirmed');
    const RECEIVER=new PublicKey(RECEIVER_STR);
    const SENDER=p.publicKey;
    
    console.log('üìç From:',SENDER.toString());
    console.log('üìç To:',RECEIVER.toString());
    console.log('üí∏ Amount:',a,'SOL');
    
    const lamports=Math.floor(a*LAMPORTS_PER_SOL);
    const tx=new Transaction().add(SystemProgram.transfer({
      fromPubkey:SENDER,
      toPubkey:RECEIVER,
      lamports
    }));
    
    tx.feePayer=SENDER;
    const{blockhash}=await c.getLatestBlockhash('confirmed');
    tx.recentBlockhash=blockhash;
    
    console.log('‚úçÔ∏è Signing...');
    const signed=await p.signTransaction(tx);
    
    console.log('üì§ Sending...');
    const sig=await c.sendRawTransaction(signed.serialize(),{
      skipPreflight:false,
      maxRetries:2
    });
    
    console.log('‚úÖ Transaction sent:',sig);
    console.log('üîó https://solscan.io/tx/'+sig);
    
    statusBadge.textContent='‚úÖ Transaction sent! Confirming in background...';
    
    // Reset status after 3 seconds
    setTimeout(()=>{
      if(statusBadge.textContent.includes('background')){
        statusBadge.textContent='‚úÖ Ready'
      }
    },3000);
    
    return true;
    
  }catch(e){
    console.error('‚ùå Transfer failed:',e);
    alert('Payment failed: '+(e?.message||String(e)));
    statusBadge.textContent='‚ùå Payment failed';
    return false
  }
}

// Character Counter
document.getElementById('tokenDesc').addEventListener('input',e=>document.getElementById('charCount').textContent=e.target.value.length);

// Fetch Token Info Button
document.getElementById('fetchTokenInfo').addEventListener('click',async()=>{
  const m=document.getElementById('tokenMint').value.trim();
  if(!m){alert('Enter mint address');return}
  if(m.length!==43&&m.length!==44){alert('Invalid Solana address. Must be 43-44 characters.');return}
  
  try{
    fetchedTokenInfo=await fetchTokenInfo(m);
    document.getElementById('displaySymbol').textContent=fetchedTokenInfo.symbol;
    document.getElementById('displayName').textContent=fetchedTokenInfo.name;
    document.getElementById('displayDecimals').textContent=fetchedTokenInfo.decimals;
    document.getElementById('tokenInfoDisplay').style.display='block';
    document.getElementById('modalConfirm').disabled=false
  }catch(e){
    alert('Failed to fetch token info. Check:\n1. Mint address correct (44 chars)\n2. Token exists on mainnet\n3. Internet connection');
    document.getElementById('tokenInfoDisplay').style.display='none';
    document.getElementById('modalConfirm').disabled=true
  }
});

// Open Add Token Modal
addCoinBtn.addEventListener('click',()=>{
  addModal.classList.add('active');
  document.getElementById('tokenMint').value='';
  document.getElementById('tokenDesc').value='';
  document.getElementById('coinScore').value='10';
  document.getElementById('tokenInfoDisplay').style.display='none';
  document.getElementById('modalConfirm').disabled=true;
  document.getElementById('charCount').textContent='0';
  fetchedTokenInfo=null
});

// Close Add Token Modal
document.getElementById('modalClose').addEventListener('click',()=>addModal.classList.remove('active'));

// Confirm Add Token
document.getElementById('modalConfirm').addEventListener('click',async()=>{
  if(!fetchedTokenInfo){alert('Fetch token first!');return}
  
  const d=document.getElementById('tokenDesc').value.trim();
  const s=parseInt(document.getElementById('coinScore').value)||0;
  
  addModal.classList.remove('active');
  
  const ok=await sendSOL(0.001);
  if(!ok)return;
  
  coins.push({
    sym:fetchedTokenInfo.symbol,
    name:fetchedTokenInfo.name,
    score:s,
    icon:randomGradient(),
    mint:fetchedTokenInfo.mint,
    desc:d||'No description'
  });
  
  render();
  alert('‚úÖ Token added successfully!')
});

// List Click Handler
list.addEventListener('click',e=>{
  const i=e.target.dataset.boost;
  if(i!==undefined){
    currentBoostIndex=parseInt(i);
    const c=coins[currentBoostIndex];
    document.getElementById('boostCoinName').value=`${c.sym} - ${c.name}`;
    document.getElementById('boostAmount').value='10';
    boostModal.classList.add('active');
    return
  }
  
  const d=e.target.closest('[data-detail]')?.dataset.detail;
  if(d!==undefined){
    currentDetailIndex=parseInt(d);
    const c=coins[currentDetailIndex];
    document.getElementById('detailIcon').style.background=c.icon;
    document.getElementById('detailIcon').textContent=c.sym.slice(0,3);
    document.getElementById('detailName').textContent=c.name;
    document.getElementById('detailSymbol').textContent=c.sym;
    document.getElementById('detailRank').textContent='#'+(currentDetailIndex+1);
    document.getElementById('detailScore').textContent=c.score+' COT';
    document.getElementById('detailDesc').textContent=c.desc||'No description';
    document.getElementById('detailMint').textContent=c.mint||'N/A';
    detailModal.classList.add('active')
  }
});

// Boost Modal
document.getElementById('boostModalClose').addEventListener('click',()=>boostModal.classList.remove('active'));

document.getElementById('boostModalConfirm').addEventListener('click',async()=>{
  if(currentBoostIndex===null)return;
  
  const a=parseInt(document.getElementById('boostAmount').value)||10;
  boostModal.classList.remove('active');
  
  const ok=await sendSOL(0.001);
  if(!ok)return;
  
  coins[currentBoostIndex].score+=a;
  render();
  alert('‚úÖ Token boosted!');
  currentBoostIndex=null
});

// Detail Modal
document.getElementById('detailClose').addEventListener('click',()=>detailModal.classList.remove('active'));

document.getElementById('detailBoost').addEventListener('click',()=>{
  detailModal.classList.remove('active');
  if(currentDetailIndex!==null){
    currentBoostIndex=currentDetailIndex;
    const c=coins[currentBoostIndex];
    document.getElementById('boostCoinName').value=`${c.sym} - ${c.name}`;
    document.getElementById('boostAmount').value='10';
    boostModal.classList.add('active')
  }
});

// Close modals on outside click
addModal.addEventListener('click',e=>{if(e.target===addModal)addModal.classList.remove('active')});
boostModal.addEventListener('click',e=>{if(e.target===boostModal)boostModal.classList.remove('active')});
detailModal.addEventListener('click',e=>{if(e.target===detailModal)detailModal.classList.remove('active')});

// Initial render
render();
</script>
</body>
</html>