<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Metal Crypto Cobie</title>
  <style>
    body {
      margin: 0;
      background: #000;
      font-family: 'Orbitron', sans-serif;
      color: #03fb8d;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }

    /* ---------- Titelbildschirm ---------- */
    #title {
      text-align: center;
      color: #03fb8d;
      animation: flicker 1s infinite;
    }
    #title h1 {
      font-size: 3em;
      margin: 0;
      text-shadow: 0 0 15px #03fb8d;
    }
    #title h2 {
      font-size: 1.5em;
      margin: 10px 0 30px;
      color: #0f0;
      text-shadow: 0 0 10px #0f0;
    }
    #title p {
      font-size: 1.2em;
      color: #fff;
    }

    /* ---------- Codec Box ---------- */
    #codec {
      display: none; /* erst unsichtbar */
      width: 960px;
      max-width: 95vw;
      border: 2px solid #03fb8d;
      flex-direction: column;
      background: #000;
      position: relative;
      overflow: hidden;
      box-shadow: 0 0 15px #03fb8d, inset 0 0 10px #03fb8d;
      animation: borderPulse 3s infinite;
    }
    @keyframes borderPulse {
      0%,100% { box-shadow: 0 0 8px #03fb8d, inset 0 0 4px #03fb8d; }
      50% { box-shadow: 0 0 20px #03fb8d, inset 0 0 10px #03fb8d; }
    }
    #codec::after {
      content: "";
      position: absolute;
      inset: 0;
      background: repeating-linear-gradient(
        to bottom,
        rgba(0, 255, 100, 0.05) 0px,
        rgba(0, 255, 100, 0.05) 2px,
        transparent 2px,
        transparent 4px
      );
      animation: flicker 0.15s infinite;
      pointer-events: none;
    }
    @keyframes flicker {
      0%,100% {opacity: 0.9;}
      50% {opacity: 0.7;}
    }

    #middle { display: flex; align-items: stretch; height: 320px; }
    .char {
      flex: 1; margin: 5px; border: 2px solid #03fb8d;
      position: relative; overflow: hidden; background: #000;
      animation: borderPulse 2s infinite;
    }
    .char img {
      width: 100%; height: 100%; object-fit: cover;
      filter: grayscale(100%) contrast(1.3) brightness(1.2);
      mix-blend-mode: screen;
    }
    .char::after {
      content: ""; position: absolute; inset: 0;
      background: linear-gradient(
        rgba(0, 255, 100, 0.15) 0%,
        transparent 50%,
        rgba(0, 255, 100, 0.15) 100%
      );
      background-size: 100% 8px;
      animation: scanmove 0.6s linear infinite;
    }
    @keyframes scanmove {
      0% { background-position-y: 0; }
      100% { background-position-y: 8px; }
    }

    #center-box {
      flex: 2; border: 2px solid #03fb8d; margin: 5px;
      background: #0b1a13; display: flex; flex-direction: column;
      justify-content: center; align-items: center; text-align: center;
      box-shadow: inset 0 0 20px rgba(0,255,100,0.4);
    }
    #bars { width: 120px; height: 100px; display: flex; flex-direction: column;
      justify-content: space-around; align-items: flex-start; }
    .bar { height: 8px; background: #397975; width: 10%; transition: width 0.2s, background 0.2s; }
    #freq { font-size: 2em; color: #03fb8d; text-shadow: 0 0 10px #03fb8d; margin-top: 6px; }
    #freq-label { font-size: 1em; color: #3c5649; }

    #dialogue { padding: 20px; font-size: 1.2em; color: #fff; min-height: 100px; }
    #speaker { font-weight: bold; margin-bottom: 8px; color: #03fb8d; text-shadow: 0 0 6px #03fb8d; }

    /* THE END & Credits */
    #endScreen, #credits {
      display: none; position: fixed; inset: 0; background: #000;
      color: #03fb8d; font-family: Orbitron, sans-serif;
    }
    #endScreen {
      /* WICHTIG: NICHT sichtbar am Start */
      align-items: center; justify-content: center; font-size: 3em;
      animation: flicker 0.2s infinite;
    }
    #credits { display: none; flex-direction: column; align-items: center; justify-content: center; overflow: hidden; }
    #credits div {
      animation: scrollUp 22s linear forwards;
      white-space: pre-line;
      text-align: center;
      font-size: 1.5em;
    }
    @keyframes scrollUp {
      0% { transform: translateY(100%); }
      100% { transform: translateY(-120%); }
    }
  </style>
</head>
<body>
  <!-- Titel -->
  <div id="title">
    <h1>METAL CRYPTO COBIE</h1>
    <h2>Tactical Blockchainerz</h2>
    <p>Press Enter to Start</p>
  </div>

  <!-- Codec -->
  <div id="codec">
    <div id="middle">
      <div id="char1" class="char">
        <img src="../img/cobie2.png" alt="cobie">
      </div>
      <div id="center-box">
        <div id="bars">
          <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
        </div>
        <div id="freq">140.15</div>
        <div id="freq-label">FREQ</div>
      </div>
      <div id="char2" class="char">
        <img src="../img/ledger.png" alt="ledger">
      </div>
    </div>
    <div id="dialogue">
      <div id="speaker">Cobie:</div>
      <div id="text"></div>
    </div>
  </div>

  <!-- Overlays -->
  <div id="endScreen">THE END</div>
  <div id="credits"><div>
METAL CRYPTO COBIE

Tactical Blockchainerz

— CAST —
Cobie ........ Himself
Ledger ....... Key Loser
Arthur ....... The Gambler
CZ ........... The "Safe" Deal
Kim Jong Un .. Eternal Lover
Doofy ........ Mastermind & Vacuum Fan

— SPECIAL THANKS —
Staubsauger™
Cindy (the bait)
Reporter X
HODLers everywhere

2025 © Shadowchain Productions
  </div></div>

  <!-- SFX -->
  <audio id="sfx-beep" src="../sounds/mgs2.mp3"></audio>
  <audio id="sfx-connect" src="../sounds/mgs1.mp3"></audio>

  <script>
    /* Vollständige Story (kein Autoplay, nur Klick/Arrow) */
    const scenes = [
      {
        freq:"142.00",
        partner:"Ledger", img:"../img/ledger.png",
        dialogue:[
          {speaker:"System", text:"Cobie calling... Ledger."},
          {speaker:"Cobie", text:"Ledger! My coins… they’re gone! ALL of them!"},
          {speaker:"Ledger", text:"Cobie… I made a mistake."},
          {speaker:"Cobie", text:"You had ONE job! Safekeeping my keys!"},
          {speaker:"Ledger", text:"I thought I could double them… Arthur promised me a secret investment."},
          {speaker:"Cobie", text:"...You gave my keys to Arthur?!"},
          {speaker:"Ledger", text:"He said it was foolproof…"}
        ]
      },
      {
        freq:"140.15",
        partner:"Arthur", img:"../img/arthur.png",
        dialogue:[
          {speaker:"System", text:"Cobie calling... Arthur."},
          {speaker:"Cobie", text:"Arthur! Where the hell is my money?!"},
          {speaker:"Arthur", text:"I… got tricked, Cobie."},
          {speaker:"Cobie", text:"Who took everything from you?!"},
          {speaker:"Arthur", text:"...an Asian guy."},
          {speaker:"Cobie", text:"Say. His. Name."},
          {speaker:"Arthur", text:"...CZ."}
        ]
      },
      {
        freq:"140.85",
        partner:"CZ", img:"../img/cz.png",
        dialogue:[
          {speaker:"System", text:"Cobie calling... CZ."},
          {speaker:"Cobie", text:"CZ! How many more investors do you plan to scam?"},
          {speaker:"CZ", text:"No, Cobie! I never scammed anyone!"},
          {speaker:"Cobie", text:"Then why are my coins gone?!"},
          {speaker:"CZ", text:"Because I was betrayed too."},
          {speaker:"Cobie", text:"By who?!"},
          {speaker:"CZ", text:"...Kim Jong Un."}
        ]
      },
      {
        freq:"141.12",
        partner:"Kim Un", img:"../img/kimun.png",
        dialogue:[
          {speaker:"System", text:"Cobie calling... Kim Un."},
          {speaker:"Cobie", text:"Kim! Do you think being a dictator means you can steal everything?!"},
          {speaker:"Kim Un", text:"I don’t steal. My people love me. The world loves me. They give me everything."},
          {speaker:"Cobie", text:"And my money?!"},
          {speaker:"Kim Un", text:"That was different… It was love. A woman asked me… I gave her all."},
          {speaker:"Cobie", text:"Love?! YOU?! Give me the contact. NOW."}
        ]
      },
      {
        freq:"123.123",
        partner:"Doofy", img:"../img/doofy.png",
        dialogue:[
          {speaker:"System", text:"Cobie calling... Doofy."},
          {speaker:"Cobie", text:"Doofy?! It was YOU?!"},
          {speaker:"Doofy", text:"It was simple, Cobie. Two plus one plus four equals nine. That’s all I needed for my master plan."},
          {speaker:"Doofy", text:"Cindy was the bait, the reporter lit the fuse, Kim was the pawn."},
          {speaker:"Doofy", text:"And now… I play with my vacuum cleaner. Cobie… don’t you love vacuuming too?"},
          {speaker:"Cobie", text:"..."},
          {speaker:"Cobie", text:"NNNNNOOOOOOOOOOOOO!!!"},
          {speaker:"Cobie", text:"DOOOOFYYYYYY!!! I KNEW IT!!!"}
          /* Kein "THE END" hier – kommt als Overlay */
        ]
      }
    ];

    let currentScene = 0, currentLine = 0;

    function typeWriterEffect(text, id, speed=35, cb){
      let i=0; const el=document.getElementById(id); el.textContent="";
      (function typing(){
        if(i<text.length){
          el.textContent += text.charAt(i++);
          setTimeout(typing, speed);
        } else if(cb) cb();
      })();
    }

    function playSfx(el){
      const a = document.getElementById(el);
      a.currentTime = 0;
      a.play().catch(()=>{});
    }

    function showLine(i){
      const scene = scenes[currentScene];
      currentLine = i;

      if(!scene.dialogue[i]){
        // Szene fertig → nächste Szene oder Endscreen
        if(currentScene < scenes.length-1){
          currentScene++;
          currentLine = 0;
          updateScene();
        } else {
          endGame();
        }
        return;
      }

      const line = scene.dialogue[i];
      document.getElementById("speaker").textContent = line.speaker + ":";

      // Sounds: Connect bei "System", sonst Beep
      if(line.speaker === "System") playSfx("sfx-connect");
      else playSfx("sfx-beep");

      typeWriterEffect(line.text, "text", 35);
    }

    function updateScene(){
      const scene = scenes[currentScene];
      document.getElementById("freq").textContent = scene.freq;
      const img = document.querySelector("#char2 img");
      img.src = scene.img;
      img.alt = scene.partner;
      showLine(0);
    }

    // Balken animieren (läuft im Codec-Hintergrund)
    const bars = document.querySelectorAll(".bar");
    (function animateBars(){
      bars.forEach(bar=>{
        const r = Math.random()*100;
        bar.style.width = `${r}%`;
        bar.style.background = r>50 ? "#03fb8d" : "#397975";
      });
      setTimeout(animateBars, 120);
    })();

    // Steuerung: Klick + Pfeiltasten
    document.addEventListener("click", ()=>{
      if(document.getElementById("codec").style.display === "flex"){
        showLine(currentLine+1);
      }
    });
    document.addEventListener("keydown", e=>{
      // Start
      if(e.key === "Enter" && document.getElementById("title").style.display !== "none"){
        document.getElementById("title").style.display = "none";
        document.getElementById("codec").style.display = "flex";
        updateScene();
        return;
      }
      // Navigation nur im Codec aktiv
      if(document.getElementById("codec").style.display === "flex"){
        if(e.key === "ArrowRight") showLine(currentLine+1);
        if(e.key === "ArrowLeft")  showLine(Math.max(0, currentLine-1));
      }
      // Restart von Credits/THE END aus (optional)
      if(e.key === "Enter" && document.getElementById("credits").style.display === "flex"){
        document.getElementById("credits").style.display = "none";
        document.getElementById("title").style.display = "block";
      }
    });

    function endGame(){
      // Codec aus, THE END an, dann Credits scrollen
      document.getElementById("codec").style.display = "none";
      const end = document.getElementById("endScreen");
      end.style.display = "flex";
      setTimeout(()=>{
        end.style.display = "none";
        const cr = document.getElementById("credits");
        cr.style.display = "flex";
      }, 2600);
    }
  </script>
</body>
</html>
