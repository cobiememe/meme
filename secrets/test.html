<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GetMemed – Title Screen</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{width:100%;height:100%;overflow:hidden;background:#000;font-family:'Orbitron',sans-serif}

/* === VIDEO BACKGROUND === */
#bg-video{
 position:fixed;top:0;left:0;width:100%;height:100%;
 object-fit:cover;z-index:0;
 filter:brightness(0.35) blur(2px) saturate(130%);
}

/* === TITLE SCREEN === */
#titleScreen{
 position:absolute;inset:0;display:flex;flex-direction:column;
 align-items:center;justify-content:center;gap:30px;
 color:#fff;text-align:center;
 animation:fadeIn 1s ease forwards;
 z-index:5;
}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}

#titleText{
 font-size:5rem;color:#ffd300;
 text-shadow:0 0 15px #ffd300,0 0 40px #ffae00;
 animation:titleDrop .8s cubic-bezier(.34,1.56,.64,1) forwards;
}
@keyframes titleDrop{0%{transform:translateY(-200%)}100%{transform:translateY(0)}}

/* Shake Effekt */
@keyframes shake {
 0%,100%{transform:translate(0,0)}
 20%,60%{transform:translate(-10px,5px)}
 40%,80%{transform:translate(10px,-5px)}
}
.shake{animation:shake 0.6s ease-in-out}

/* Button */
#startButton{
 background:linear-gradient(90deg,#ffd300,#ff00cc);
 color:#000;font-weight:800;border:none;padding:14px 32px;
 border-radius:12px;font-size:1.3rem;cursor:pointer;
 box-shadow:0 0 20px #ffd30088;
 transition:transform .15s ease, box-shadow .3s ease;
}
#startButton:hover{
 transform:scale(1.1);
 box-shadow:0 0 35px #ff00ccaa,0 0 55px #ffd300aa;
}

/* === EXPLOSION ANIMATIONEN === */
@keyframes titleExplode{
 0%{transform:scale(1);opacity:1;filter:brightness(1)}
 60%{transform:scale(3);opacity:.7;filter:brightness(2) blur(2px)}
 100%{transform:scale(6);opacity:0;filter:blur(6px) brightness(3)}
}
.title-explode{animation:titleExplode .6s ease forwards}

@keyframes screenFlash{
 0%{filter:brightness(1);opacity:1;transform:scale(1)}
 50%{filter:brightness(3);opacity:1;transform:scale(1.1)}
 100%{filter:brightness(0);opacity:0;transform:scale(2)}
}
.screen-flash{animation:screenFlash .8s ease forwards}

/* === FLASH & PARTICLES === */
@keyframes flashBang{0%{opacity:0}10%{opacity:.8}100%{opacity:0}}
.flash-bang{
 position:fixed;inset:0;
 background:radial-gradient(circle,rgba(255,255,255,.9),transparent 70%);
 mix-blend-mode:screen;pointer-events:none;
 animation:flashBang .4s ease-out forwards;z-index:999;
}
#explosion-container{position:fixed;inset:0;pointer-events:none;overflow:visible;z-index:998}
.particle{
 position:absolute;width:6px;height:6px;border-radius:50%;
 background:radial-gradient(circle,#ffdd55 0%,#ff6600 80%);
 opacity:.9;transform:scale(1);
 animation:particleMove .9s ease-out forwards;
}
@keyframes particleMove{
 0%{transform:scale(1) translate(0,0);opacity:1}
 100%{transform:scale(.2) translate(var(--x),var(--y));opacity:0}
}

/* === SPIEL CONTAINER (Canvas-Bereich) === */
#gameContainer {
 position:relative;
 width:100%; height:100%;
 background:transparent;
 z-index:2;
}
canvas {
 position:absolute; top:0; left:0;
 width:100%; height:100%;
 display:block;
 background:transparent;
}

/* === VICTORY MODAL (zentriert + Glow-Pulse + sanfter Pop-In) === */
.vm-backdrop {
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background: radial-gradient(1200px 600px at 50% 40%, rgba(0,0,0,.55), rgba(0,0,0,.85));
  backdrop-filter: blur(10px) saturate(120%);
  z-index: 9999;
  animation: fadeIn .25s ease forwards;
}
.vm-backdrop.hidden {
  display: none;
}

.vm-modal {
  position: relative;
  width: min(720px, 92vw);
  padding: 28px 28px 24px;
  border-radius: 16px;
  color: var(--text-light);
  background: linear-gradient(180deg, var(--glass-bg), rgba(12,14,25,.55));
  border: 1px solid rgba(255,255,255,.08);
  box-shadow:
    0 0 0 2px #ffffff10 inset,
    0 0 28px var(--secondary),
    0 0 120px var(--accent);
  isolation: isolate;
  text-align: center;
  animation: modalPop .35s ease-out, glowPulse 3s ease-in-out infinite;
}

.vm-modal::before {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: 18px;
  background: linear-gradient(135deg, var(--secondary), var(--accent), var(--primary));
  filter: blur(12px);
  opacity: .45;
  z-index: -1;
  animation: glowFlow 6s linear infinite;
}

@keyframes glowFlow {
  0%   { background-position: 0% 50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes modalPop {
  0%   { transform: scale(0.8); opacity: 0; filter: blur(3px); }
  100% { transform: scale(1); opacity: 1; filter: blur(0); }
}

@keyframes glowPulse {
  0%,100% { box-shadow:
              0 0 0 2px #ffffff10 inset,
              0 0 28px var(--secondary),
              0 0 120px var(--accent); }
  50%     { box-shadow:
              0 0 0 2px #ffffff10 inset,
              0 0 45px var(--accent),
              0 0 160px var(--primary); }
}
</style>
</head>
<body>

<!-- 🌌 SpaceNebula Video -->
<video autoplay muted loop playsinline id="bg-video">
 <source src="../video/spacenebula.mp4" type="video/mp4">
</video>

<!-- 🪐 Titel-Screen -->
<div id="titleScreen">
 <h1 id="titleText">GetMemed!</h1>
 <button id="startButton">Play to Meme</button>
</div>

<!-- 💥 Explosion Effekte -->
<div id="explosion-container"></div>
<audio id="explosion-sfx" src="../sounds/boom.mp3" preload="auto"></audio>

<!-- 🎮 Spiel-Container -->
<div id="gameContainer">
 <canvas id="gameCanvas"></canvas>
</div>

<!-- 🏆 Victory Modal Beispiel -->
<div class="vm-backdrop hidden" id="victoryModal">
  <div class="vm-modal">
    <h2>Username won!</h2>
    <button>New Game</button>
    <button>Title Screen</button>
  </div>
</div>

<script>
const titleText=document.getElementById('titleText');
const titleScreen=document.getElementById('titleScreen');
const startButton=document.getElementById('startButton');
const gameContainer=document.getElementById('gameContainer');
const gameCanvas=document.getElementById('gameCanvas');

/* === Titel-Intro: Drop + Shake === */
window.addEventListener('load',()=>{
 setTimeout(()=>titleText.classList.add('shake'),1000);
});

/* === Klick: Explosion + Übergang === */
startButton.addEventListener('click',()=>{
 titleText.classList.add('title-explode');
 setTimeout(()=>{titleScreen.classList.add('screen-flash');triggerExplosion();},200);
 setTimeout(()=>{
   titleScreen.style.display='none';
   gameContainer.classList.add('active');
   startGame();
 },900);
});

/* === Explosion Effekt === */
function triggerExplosion(){
 const sfx=document.getElementById('explosion-sfx');
 if(sfx){sfx.currentTime=0;sfx.volume=0.7;sfx.play();}
 const container=document.getElementById('explosion-container');

 const flash=document.createElement('div');
 flash.className='flash-bang';
 document.body.appendChild(flash);
 setTimeout(()=>flash.remove(),400);

 for(let i=0;i<40;i++){
   const p=document.createElement('div');
   p.className='particle';
   const angle=Math.random()*2*Math.PI;
   const distance=200+Math.random()*150;
   const x=Math.cos(angle)*distance+'px';
   const y=Math.sin(angle)*distance+'px';
   p.style.setProperty('--x',x);
   p.style.setProperty('--y',y);
   p.style.left='50%';p.style.top='50%';
   container.appendChild(p);
   setTimeout(()=>p.remove(),900);
 }
}

/* === Dummy Game === */
function startGame(){
 const ctx=gameCanvas.getContext('2d');
 let stars=[];
 for(let i=0;i<100;i++){
   stars.push({x:Math.random()*innerWidth,y:Math.random()*innerHeight,r:Math.random()*2});
 }
 function animate(){
   ctx.clearRect(0,0,innerWidth,innerHeight);
   ctx.fillStyle='white';
   stars.forEach(s=>{
     ctx.beginPath();
     ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
     ctx.fill();
   });
   requestAnimationFrame(animate);
 }
 animate();
}
</script>
</body>
</html>
