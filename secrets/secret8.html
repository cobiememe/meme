<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>3D Galerie Light</title>
  <style>
    body {
      margin: 0;
      background: #000;
      font-family: Arial, sans-serif;
      overflow: hidden;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* ---------- Titel-Logo ---------- */
    #title-container {
      position: absolute;
      top: 20px;
      left: 40px;
      z-index: 1000;
    }
    #title {
      font-family: 'Orbitron', sans-serif;
      font-size: 2.5em;
      color: #00eaff;
      letter-spacing: 2px;
      text-shadow:
        0 0 5px #00eaff,
        0 0 10px #00eaff,
        0 0 20px #00eaff,
        0 0 40px #00bfff;
      animation: breathe 3s ease-in-out infinite, flicker 4s infinite;
    }
    @keyframes breathe {
      0%   { letter-spacing: 2px; transform: scale(1);   opacity: 0.9; }
      50%  { letter-spacing: 8px; transform: scale(1.1); opacity: 1;   }
      100% { letter-spacing: 2px; transform: scale(1);   opacity: 0.9; }
    }
    @keyframes flicker {
      0%, 18%, 22%, 25%, 53%, 57%, 100% {
        opacity: 1;
        text-shadow:
          0 0 5px #00eaff,
          0 0 10px #00eaff,
          0 0 20px #00eaff,
          0 0 40px #00bfff;
      }
      20%, 24%, 55% { opacity: 0.6; text-shadow: none; }
    }
    #laser {
      position: relative;
      height: 3px;
      margin-top: 6px;
      overflow: hidden;
      background: rgba(0, 234, 255, 0.2);
    }
    #laser::before {
      content: "";
      position: absolute;
      top: 0; left: -100%;
      width: 100%; height: 100%;
      background: linear-gradient(90deg, transparent, #00eaff, transparent);
      animation: laserAnim 3s linear infinite;
    }
    @keyframes laserAnim {
      0% { left: -100%; }
      50% { left: 0; }
      100% { left: 100%; opacity: 0; }
    }

    /* ---------- Galerie ---------- */
    .gallery {
      position: relative;
      width: 100vw;
      height: 100vh;
      perspective: 1200px;
      z-index: 1;
    }
    .circle {
      position: absolute;
      top: 50%;
      left: 50%;
      transform-style: preserve-3d;
      animation: spin 50s linear infinite;
      transform: translate(-50%, -50%) rotateY(0deg);
    }
    @keyframes spin {
      from { transform: translate(-50%, -50%) rotateY(0deg); }
      to   { transform: translate(-50%, -50%) rotateY(360deg); }
    }
    .circle img {
      position: absolute;
      width: 220px;
      height: 140px;
      object-fit: cover;
      border: 3px solid #03fb8d;
      box-shadow: 0 0 15px #03fb8d;
      cursor: pointer;
      transition: transform 1s, opacity 0.5s, filter 0.5s, box-shadow 0.5s;
      /* Standard: bewusst dunkel, erst bei Hover/Click richtig sichtbar */
      filter: brightness(35%) hue-rotate(45deg) saturate(200%) contrast(180%);
    }
    .circle img:hover {
      filter: brightness(100%) hue-rotate(45deg) saturate(200%) contrast(180%);
      box-shadow: 0 0 25px #03fb8d, 0 0 35px rgba(3,251,141,.35);
      transform: translateZ(10px) rotateY(0deg);
    }

    /* ---------- Overlay (filmisches Fade-In) ---------- */
    .overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.85);
      display: flex;                 /* bleibt flex, aber unsichtbar */
      justify-content: flex-start;   /* Bild links, Text rechts */
      align-items: center;
      padding: 40px;
      box-sizing: border-box;
      z-index: 10;

      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      transition: opacity .6s ease, visibility .6s ease;
    }
    .overlay.show {
      opacity: 1;
      visibility: visible;
      pointer-events: auto;
    }
    .overlay img {
      max-width: 40%;
      max-height: 80%;
      border: 4px solid #03fb8d;
      box-shadow: 0 0 20px #03fb8d;
      margin-right: 40px;

      opacity: 0;
      transform: scale(.96) translateX(-10px);
      transition: opacity .6s ease, transform .6s ease;
      /* Im Overlay keine starke Farbfilterung mehr, aber leichtes Boosting: */
      filter: brightness(95%) saturate(115%) contrast(105%);
    }
    .overlay.show img {
      opacity: 1;
      transform: scale(1) translateX(0);
    }
    .text-box {
      max-width: 40%;
      background: rgba(0, 0, 0, 0.8);
      border: 2px solid #03fb8d;
      box-shadow: 0 0 15px #03fb8d;
      color: #fff;
      padding: 20px;
      position: relative;

      opacity: 0;
      transform: translateX(10px);
      transition: opacity .6s ease .1s, transform .6s ease .1s;
    }
    .overlay.show .text-box {
      opacity: 1;
      transform: translateX(0);
    }
    .text-box h2 { margin: 0 0 15px; color: #03fb8d; }
    .text-box p  { font-size: 1em; line-height: 1.4em; }

    .close-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      color: #03fb8d;
      font-size: 1.5em;
      cursor: pointer;
      transition: transform .2s ease;
    }
    .close-btn:hover { transform: scale(1.15); }

    /* ---------- Partikel ---------- */
    #particles {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    }
  </style>
</head>
<body>
  <!-- Titel -->
  <div id="title-container">
    <div id="title">Cobies MemeWorld</div>
    <div id="laser"></div>
  </div>

  <!-- Partikel -->
  <canvas id="particles"></canvas>

  <div class="gallery">
    <div class="circle" id="circle"></div>
  </div>

  <!-- Overlay -->
  <div class="overlay" id="overlay">
    <img id="overlay-img" src="">
    <div class="text-box">
      <span class="close-btn" id="closeBtn">&times;</span>
      <h2 id="overlay-title"></h2>
      <p id="overlay-text"></p>
    </div>
  </div>

  <script>
    const circle = document.getElementById("circle");
    const overlay = document.getElementById("overlay");
    const overlayImg = document.getElementById("overlay-img");
    const overlayTitle = document.getElementById("overlay-title");
    const overlayText = document.getElementById("overlay-text");
    const closeBtn = document.getElementById("closeBtn");

    const total = 20;
    const radius = 800;

    const descriptions = [
      { title: "Bild 1", text: "The key you are looking for is in the castle’s tower, hidden behind a painting on the wall. img1.png" },
      { title: "Bild 2", text: "Hier steht dein Text für img2.png" },
      { title: "Bild 3", text: "Beschreibung für img3.png – z.B. Meme über Cobie" },
      { title: "Bild 4", text: "Beschreibung für img4.png" },
      { title: "Bild 5", text: "Beschreibung für img5.png" },
      { title: "Bild 6", text: "Beschreibung für img6.png" },
      { title: "Bild 7", text: "Beschreibung für img7.png" },
      { title: "Bild 8", text: "Beschreibung für img8.png" },
      { title: "Bild 9", text: "Beschreibung für img9.png" },
      { title: "Bild 10", text: "Beschreibung für img10.png" },
      { title: "Bild 11", text: "Beschreibung für img11.png" },
      { title: "Bild 12", text: "Beschreibung für img12.png" },
      { title: "Bild 13", text: "Beschreibung für img13.png" },
      { title: "Bild 14", text: "Beschreibung für img14.png" },
      { title: "Bild 15", text: "Beschreibung für img15.png" },
      { title: "Bild 16", text: "Beschreibung für img16.png" },
      { title: "Bild 17", text: "Beschreibung für img17.png" },
      { title: "Bild 18", text: "Beschreibung für img18.png" },
      { title: "Bild 19", text: "Beschreibung für img19.png" },
      { title: "Bild 20", text: "Beschreibung für img20.png" },
    ];

    // Bilder im Kreis platzieren
    for (let i = 0; i < total; i++) {
      const img = document.createElement("img");
      img.src = `../img/img${i+1}.png`;
      img.dataset.index = i;

      const angle = (i / total) * (2 * Math.PI);
      img.style.transform = `rotateY(${angle}rad) translateZ(${radius}px)`;

      circle.appendChild(img);

      img.addEventListener("click", () => openOverlay(i, img.src));
    }

    function openOverlay(i, src){
      overlayImg.src = src;
      overlayTitle.textContent = descriptions[i]?.title || `Bild ${i+1}`;
      overlayText.textContent  = descriptions[i]?.text  || `Keine Beschreibung für Bild ${i+1}`;
      overlay.classList.add("show");
    }
    function closeOverlay(){
      overlay.classList.remove("show");
    }

    closeBtn.addEventListener("click", closeOverlay);
    overlay.addEventListener("click", (e)=>{ if(e.target === overlay) closeOverlay(); });
    window.addEventListener("keydown", (e)=>{ if(e.key === "Escape") closeOverlay(); });

    // ---------- Partikel Animation ----------
    const canvas = document.getElementById("particles");
    const ctx = canvas.getContext("2d");
    let particles = [];

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resizeCanvas);
    resizeCanvas();

    for (let i = 0; i < 80; i++) {
      particles.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        size: Math.random() * 2,
        speedX: (Math.random() - 0.5) * 0.5,
        speedY: (Math.random() - 0.5) * 0.5,
        alpha: Math.random()
      });
    }

    function animateParticles() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particles.forEach(p => {
        p.x += p.speedX; p.y += p.speedY;
        if (p.x < 0) p.x = canvas.width;
        if (p.x > canvas.width) p.x = 0;
        if (p.y < 0) p.y = canvas.height;
        if (p.y > canvas.height) p.y = 0;

        ctx.fillStyle = `rgba(0,234,255,${p.alpha})`;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
        ctx.fill();
      });
      requestAnimationFrame(animateParticles);
    }
    animateParticles();
  </script>
</body>
</html>
